(this["webpackJsonpreact-client"]=this["webpackJsonpreact-client"]||[]).push([[0],{23:function(e,t,a){e.exports=a(59)},29:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),o=(a(28),a(29),a(1)),i=a.n(o),s=a(4),u=a(2),m=a(22),p=a(5),d=a.n(p);function f(){return(f=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,d.a.get("/api/transaction/list/".concat(t));case 3:return a=e.sent,n=a.data.map((function(e){var t=e.category,a=e.description;return Object(m.a)({},e,{categoryLowerCase:t.toLowerCase(),descriptionLowerCase:a.toLowerCase(),isDeleted:!1})})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/transaction/create",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("updating",t),e.next=3,d.a.put("/api/transaction/update/".concat(t._id),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("/api/transaction/delete/".concat(t._id));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E={getAllLounchs:function(e){return f.apply(this,arguments)},insertLounch:function(e){return v.apply(this,arguments)},updateLounch:function(e){return y.apply(this,arguments)},deleteLounch:function(e){return h.apply(this,arguments)}};var g={numberFormat:function(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}};function b(e){var t=e.id,a=e.type,n=e.onActionClick;return r.a.createElement("span",{className:"material-icons",onClick:function(){n(t,a)},style:{cursor:"pointer"}},a)}var w=a(6),x=a.n(w);function N(e){var t=e.onSave,a=e.onClose,c=e.selectedLounch,l=c._id,o=c.category,i=c.yearMonthDay,s=c.type,m=Object(n.useState)(c.value),p=Object(u.a)(m,2),d=p[0],f=p[1],v=Object(n.useState)(c.description),y=Object(u.a)(v,2),h=y[0],E=y[1];Object(n.useEffect)((function(){return document.addEventListener("keydown",g),function(){document.removeEventListener("keydown",g)}}));var g=function(e){"Escape"===e.key&&a(null)},b=function(e){"inputValue"==e.target.id?f(+e.target.value):"inputDescription"==e.target.id&&E(e.target.value)};return r.a.createElement("div",null,r.a.createElement(x.a,{isOpen:!0,style:j},r.a.createElement("div",{style:O.flexRow},r.a.createElement("span",{style:O.title}),r.a.createElement("button",{className:"waves-effect waves-lights btn red dark-4",onClick:function(){a(null)}},"X")),r.a.createElement("div",{className:"container",style:O.modalDialog},r.a.createElement("h3",{style:O.title,className:"center"},"Edi\xe7ao de Lancamentos"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({_id:l,newValue:d,newDescription:h})}},r.a.createElement("div",{className:"input-field "},r.a.createElement("p",{className:"center",style:O.paragrafo},r.a.createElement("label",null,r.a.createElement("input",{name:"group1",type:"radio",id:"type+",checked:"+"==s}),r.a.createElement("span",{style:O.revenue},"Receita")),r.a.createElement("label",null,r.a.createElement("input",{name:"group1",type:"radio",id:"type-",checked:"-"==s}),r.a.createElement("span",{style:O.expenses},"Despesa")))),r.a.createElement("div",{className:"input-field col s12 m6 l3"},r.a.createElement("input",{id:"inputDescription",type:"text",value:h,onChange:b}),r.a.createElement("label",{className:"active",htmlFor:"inputDescription"},"Descri\xe7ao:")),r.a.createElement("div",{className:"input-field col s12 m6 l3"},r.a.createElement("input",{id:"inputValue",type:"number",value:d,onChange:b}),r.a.createElement("label",{className:"active",htmlFor:"inputValue"},"Valor:")),r.a.createElement("div",{className:"input-field col s12 m6 l3"},r.a.createElement("input",{id:"inputcategory",type:"text",value:o,onChange:b}),r.a.createElement("label",{readOnly:!0,className:"active",htmlFor:"inputcategory"},"Categoria:")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12 m6 l6"},r.a.createElement("input",{readOnly:!0,id:"inputDate",type:"date",step:"1",autoFocus:!0,value:i}),r.a.createElement("label",{className:"active",htmlFor:"inputDate"},"Data:"))),r.a.createElement("div",{style:O.flexRow},r.a.createElement("button",{className:"waves-effect waves-light btn"},"Salvar"))))))}x.a.setAppElement("#root");var O={flexRow:{marginTop:"20px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"40px"},tamanho:{width:"250px"},title:{fontSize:"1.3rem",fontWeight:"bold"},errorMessage:{color:"red",fontWeight:"bold"},revenue:{fontWeight:"bold",color:"#4caf50 "},expenses:{fontWeight:"bold",color:"#ef5350"},modalDialog:{width:"400px"},paragrafo:{marginTop:"20px"}},j={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function D(e){var t=e.onSave,a=e.onClose,c=Object(n.useState)(""),l=Object(u.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)(""),m=Object(u.a)(s,2),p=m[0],d=m[1],f=Object(n.useState)(""),v=Object(u.a)(f,2),y=v[0],h=v[1],E=Object(n.useState)(""),g=Object(u.a)(E,2),b=g[0],w=g[1],N=Object(n.useState)("+"),O=Object(u.a)(N,2),j=O[0],D=O[1];Object(n.useEffect)((function(){return document.addEventListener("keydown",S),function(){document.removeEventListener("keydown",S)}}));var S=function(e){"Escape"===e.key&&a(null)},L=function(e){"inputValue"==e.target.id?i(+e.target.value):"inputDescription"==e.target.id?d(e.target.value):"inputcategory"==e.target.id?h(e.target.value):"inputDate"==e.target.id?w(e.target.value):"type+"==e.target.id?D("+"):"type-"==e.target.id&&D("-")};return r.a.createElement("div",null,r.a.createElement(x.a,{isOpen:!0,style:C},r.a.createElement("div",{style:k.flexRow},r.a.createElement("span",{style:k.title}),r.a.createElement("button",{className:"waves-effect waves-lights btn red dark-4",onClick:function(){a(null)}},"X")),r.a.createElement("div",{className:"container",style:k.modalDialog},r.a.createElement("h3",{style:k.title,className:"center"},"Inclus\xe3o de Lan\xe7amentos"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=new Date(b),n={newValue:o,newDescription:p,newCategory:y,newYearMonthDay:b,type:j,year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),yearMonth:"".concat(a.getFullYear(),"-").concat(a.getMonth()+1<10?"0":"").concat(a.getMonth()+1)};console.log(n),t(n)}},r.a.createElement("div",{className:"input-field"},r.a.createElement("p",{className:"center",style:k.paragrafo},r.a.createElement("label",null,r.a.createElement("input",{name:"group1",type:"radio",id:"type+",onChange:L,checked:"+"==j}),r.a.createElement("span",{style:k.revenue},"Receita")),r.a.createElement("label",null,r.a.createElement("input",{name:"group1",type:"radio",id:"type-",onChange:L,checked:"-"==j}),r.a.createElement("span",{style:k.expenses},"Despesa")))),r.a.createElement("div",{className:"input-field col s12 m6 l3"},r.a.createElement("input",{id:"inputDescription",type:"text",value:p,onChange:L}),r.a.createElement("label",{className:"active",htmlFor:"inputDescription"},"Descri\xe7ao:")),r.a.createElement("div",{className:"input-field col s12 m6 l3"},r.a.createElement("input",{id:"inputValue",type:"number",value:o,onChange:L}),r.a.createElement("label",{className:"active",htmlFor:"inputValue"},"Valor:")),r.a.createElement("div",{className:"input-field col s12 m6 l3"},r.a.createElement("input",{id:"inputcategory",type:"text",value:y,onChange:L}),r.a.createElement("label",{readOnly:!0,className:"active",htmlFor:"inputcategory"},"Categoria:")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12 m6 l6"},r.a.createElement("input",{onChange:L,id:"inputDate",type:"date",step:"1",autoFocus:!0,value:b}),r.a.createElement("label",{className:"active",htmlFor:"inputDate"},"Data:"))),r.a.createElement("div",{style:k.flexRow},r.a.createElement("button",{className:"waves-effect waves-light btn"},"Salvar"))))))}x.a.setAppElement("#root");var k={flexRow:{marginTop:"20px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"40px"},tamanho:{width:"250px"},title:{fontSize:"1.3rem",fontWeight:"bold"},errorMessage:{color:"red",fontWeight:"bold"},revenue:{fontWeight:"bold",color:"#4caf50 "},expenses:{fontWeight:"bold",color:"#ef5350"},modalDialog:{width:"400px"},paragrafo:{marginTop:"20px"}},C={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function S(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(u.a)(l,2),m=o[0],p=o[1],d=Object(n.useState)(""),f=Object(u.a)(d,2),v=(f[0],f[1]),y=Object(n.useState)("2020-01"),h=Object(u.a)(y,2),w=h[0],x=h[1],O=Object(n.useState)({}),j=Object(u.a)(O,2),k=j[0],C=j[1],S=Object(n.useState)(!1),F=Object(u.a)(S,2),M=F[0],R=F[1],V=Object(n.useState)(!1),W=Object(u.a)(V,2),A=W[0],_=W[1],B=function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getAllLounchs(t);case 2:a=(a=(a=e.sent).map((function(e){return e.color="+"==e.type?"white-text green ":"white-text red lighten-1",e}))).sort((function(e,t){return e.type<t.type?-1:e.type>t.type?1:0})),c(a),p(Object.assign([],a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){(function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(w);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var I=function(e){switch(e){case 1:return"Jan";case 2:return"Fev";case 3:return"Mar";case 4:return"Abr";case 5:return"Mai";case 6:return"Jun";case 7:return"Jul";case 8:return"Ago";case 9:return"Set";case 10:return"Out";case 11:return"Nov";case 12:return"Dez"}},J=function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,console.log(a),x(a),e.next=5,B(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){return m.filter((function(e){return"+"==e.type})).reduce((function(e,t){return e+t.value}),0)},Y=function(){return m.filter((function(e){return"-"==e.type})).reduce((function(e,t){return e+t.value}),0)},z=function(e,t){if("edit"===t){var n=a.filter((function(t){return t._id===e}));X(n[0])}if("delete"===t){var r=a.filter((function(t){return t._id===e}));$(r[0])}e.target&&"create"===e.target.id&&q(),console.log(e),console.log(t)},$=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.deleteLounch(t);case 2:if(!e.sent){e.next=6;break}return e.next=6,B(w);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(e){C(e),R(!0)},q=function(e){_(!0)},G=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,c,l,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=t.newValue,c=Object.assign([],a),(l=c.find((function(e){return e.id===n}))).value=r,o="",!l.isDeleted){e.next=11;break}return l.isDeleted=!1,e.next=9,E.insertLounch(l);case 9:e.next=14;break;case 11:return e.next=13,E.updateLounch(l);case 13:o=e.sent;case 14:console.log("retorno api",o),R(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r,c,l,o,s,u,m,p,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.newValue,n=t.newDescription,r=t.newCategory,c=t.newYearMonthDay,l=t.type,o=t.year,s=t.month,u=t.day,m=t.yearMonth,p={description:n,value:a,category:r,year:o,month:s,day:u,yearMonth:m,yearMonthDay:c,type:l},e.next=4,E.insertLounch(p);case 4:return d=e.sent,console.log("retorno api",d),K(),e.next=9,B(w);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){R(!1),_(!1)};return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"center"},"Desafio Final do Bootcamp Full Stack"),r.a.createElement("h3",{className:"center"},"Controle Financeiro"),r.a.createElement("div",{className:"col s12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"yearMonth col s4 m4 offset-s6 offset-m4"},r.a.createElement("select",{className:"browser-default ",onChange:J,defaultValue:w},r.a.createElement("option",{value:"",disabled:!0},"Selecione o m\xeas"),function(){for(var e=[],t=2019;t<=2021;t++)for(var a=1;a<=12;a++){var n={yearShow:"".concat(I(a),"-").concat(t),yearSource:"".concat(t,"-").concat(a<10?"0"+a:a)};e.push(n)}return e}().map((function(e){return r.a.createElement("option",{key:e.yearSource,value:e.yearSource},e.yearShow)}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12 m6 l3"},r.a.createElement("input",{style:L.Lounchs,value:m.length,readOnly:!0}),r.a.createElement("label",{className:"active"}," Lan\xe7amentos:  ")),r.a.createElement("div",{className:"input-field col s12 m6 l3"},r.a.createElement("input",{style:L.revenue,value:"R$".concat(" ",T()),readOnly:!0}),r.a.createElement("label",{className:"active"}," Receitas: ")),r.a.createElement("div",{className:"input-field col s12 m6 l3"},r.a.createElement("input",{style:L.expenses,value:"R$".concat(" ",Y()),readOnly:!0}),r.a.createElement("label",{className:"active"}," Despesas: ")),r.a.createElement("div",{className:"input-field col s12 m6 l3"},r.a.createElement("input",{style:T()-Y()>0?L.revenue:L.expenses,value:"R$".concat(" ",T()-Y()),readOnly:!0}),r.a.createElement("label",{className:"active"}," Saldo: "))),r.a.createElement("form",{action:"#"},r.a.createElement("div",{className:"file-field input-field"},r.a.createElement("div",{className:"btn",id:"create",onClick:z},r.a.createElement("span",{id:"create",onClick:z}," + Novo Lan\xe7amento")),r.a.createElement("div",{className:"file-path-wrapper"},r.a.createElement("input",{className:"file-path validate",type:"text",placeholder:"Filtro",onChange:function(e){var t=e.target.value;v(t);var n=t.toLowerCase(),r=a.filter((function(e){return e.description.toLowerCase().includes(n)>0}));p(r)}})))),r.a.createElement("ul",{className:"collection collection-sem-borda"},m.map((function(e){return r.a.createElement("li",{className:"collection-item linha-lounch ".concat(e.color),key:e._id},r.a.createElement("div",{className:"row sem-margin"},r.a.createElement("div",{className:"col s1"},e.day),r.a.createElement("div",{className:"col s7"},e.description),r.a.createElement("div",{className:"col s2 right-align"},g.numberFormat(e.value)),r.a.createElement("div",{className:"col s2 right-align"},r.a.createElement(b,{onActionClick:z,id:e._id,type:"edit"}),r.a.createElement(b,{onActionClick:z,id:e._id,type:"delete"}))))})))),M&&k&&r.a.createElement(N,{onSave:G,onClose:K,selectedLounch:k}),A&&r.a.createElement(D,{onSave:H,onClose:K}))}var L={Lounchs:{fontWeight:"bold",color:"#424242"},revenue:{fontWeight:"bold",color:"#4caf50 "},expenses:{fontWeight:"bold",color:"#ef5350"}};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.d29addbd.chunk.js.map